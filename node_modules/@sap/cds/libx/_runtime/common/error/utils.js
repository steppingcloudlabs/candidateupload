const { i18n } = require('../../../../lib')

/**
 * Gets the localized error message for an error based on message, code, statusCode or status
 * @param {*} error
 * @param {*} locale can be undefined for default language
 * @returns localized error message
 */
// REVISIT: Where is that being used...?
function getErrorMessage(error, locale) {
  const key = error.message || error.code || error.status || error.statusCode || '500'
  const txt = i18n.messages.at(key, locale, error.args)
  return txt || error.message || String(error.code || error.status || error.statusCode)
}

module.exports = {
  getErrorMessage
}
